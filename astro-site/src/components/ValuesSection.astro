---
let values = [];

try {
  const res = await fetch(import.meta.env.PUBLIC_API_URL + '/values/all');
  const data = await res.json();
  console.log('Données récupérées depuis l’API :', data);
  values = Array.isArray(data) ? data : [];
} catch (err) {
  console.error('Erreur lors du fetch API :', err);
}
---

<section class="values">
  <h2 class="values-title">Nos valeurs</h2>
  <div class="values-list">
    {values.map((value) => (
      <div class="value-item" key={value.value_id}>
        <img src={`${import.meta.env.PUBLIC_ASSET_URL}/files/${value.file_id}/download`} alt={value.name} />
        <p>{value.name}</p>
      </div>
    ))}
  </div>
</section>

