<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
  <h2 class="form-title">Connexion</h2>

  <label class="form-label">
    Email :
    <input type="email" formControlName="mail" class="form-input" />
    <div *ngIf="loginForm.get('mail')?.invalid && loginForm.get('mail')?.touched" class="error">
      <span *ngIf="loginForm.get('mail')?.errors?.['required']">L'email est obligatoire.</span>
      <span *ngIf="loginForm.get('mail')?.errors?.['email']">Veuillez saisir un email valide.</span>
      <span *ngIf="loginForm.get('mail')?.errors?.['maxlength']">L'email ne doit pas dépasser 255 caractères.</span>
    </div>
  </label>

  <label class="form-label">
    Mot de passe :
    <input type="password" formControlName="password" class="form-input" />
    <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="error">
      <span *ngIf="loginForm.get('password')?.errors?.['required']">Le mot de passe est obligatoire.</span>
      <span *ngIf="loginForm.get('password')?.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caractères.</span>
      <span *ngIf="loginForm.get('password')?.errors?.['maxlength']">Le mot de passe ne doit pas dépasser 128 caractères.</span>
    </div>
  </label>

  <button type="submit" class="add-button" [disabled]="loginForm.invalid">
    <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
      <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"/>
    </svg>
    Se connecter
  </button>

  <div class="forgot-password-link">
    <a routerLink="/forgot-password" class="forgot-link">Mot de passe oublié ?</a>
  </div>

  <p *ngIf="errorMessage" class="form-error">{{ errorMessage }}</p>

  <div class="logo-container">
    <img src="/assets/air-asso.png" alt="Logo AIR" class="logo" />
  </div>
</form>
