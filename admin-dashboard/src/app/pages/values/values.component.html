<h2>Valeurs</h2>
<button (click)="startCreate()" *ngIf="!isCreating && !editingValueId">âž• Ajouter une valeur</button>

<form *ngIf="isCreating" [formGroup]="createForm" (ngSubmit)="addValue()">
  <input type="text" formControlName="name" placeholder="Nom de la valeur" />
  <input type="text" formControlName="image_url" placeholder="URL de l'image (facultatif)" />
  <button type="submit">Ajouter</button>
  <button type="button" (click)="cancelCreate()">Annuler</button>
</form>

<div *ngFor="let value of values">
  <div *ngIf="editingValueId !== value.value_id">
    <img *ngIf="value.image_url" [src]="value.image_url" alt="Image" width="100" />
    <strong>{{ value.name }}</strong>
    <button (click)="startEdit(value)">Modifier</button>
    <button (click)="deleteValue(value.value_id)">Supprimer</button>
  </div>

  <form *ngIf="editingValueId === value.value_id" [formGroup]="editForm" (ngSubmit)="saveEdit(value)">
    <input type="text" formControlName="name" />
    <input type="text" formControlName="image_url" />
    <button type="submit">Valider</button>
    <button type="button" (click)="cancelEdit()">Annuler</button>
  </form>
</div>
